# 编译原理作业四
## 思考题 设计一种算法，用汤普森算法得到的NFA来判断输入的字符串是否合法。给出伪代码。

```
S = ε-closure(s0); //用有序数组实现 如 S = [0,1,2,6]
c = nextChar(); //从输入的字符串中读取
while(c!=eof)
{
  S = ε-closure(move(S,c)); 
  c = nextChar();
  if(S∩F = ∅） //求交集的函数实现方法，对两个有序数组进行遍历，若有相同元素就返回true，表示不为空，反之返回false
    return false; //书中的空集判断放在while外部，如果遇到很长的字符串，在一开始就不符合，会白白走很久循环
}                 //把判断放在循环内可避免这种情况，但也会遇到交集比较函数会执行多次，不过按照上面注释的实现方法，平均复杂度不会很高
return true;
```

