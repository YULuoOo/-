# 编译原理作业四
## 一、使用Thompson构造法为下列正规式构造NFA，写出每个NFA处理符号串“ababbab”过程中的状态转换序列。8分


#### a) (a | b)*

![Image text](https://github.com/YULuoOo/compiler/blob/master/homework/IMG_0787.JPG)

| 次数 | 输入 | 状态 
| - | :-: | :-: 
| 0 | start| {0,1,2,3,7} 
| 1 | a | {1,2,3,4,6,7} 
| 2 | b | {1,2,3,5,6,7}
| 3 | a | {1,2,3,4,6,7}  
| 4 | b | {1,2,3,5,6,7}
| 5 | b | {1,2,3,5,6,7} 
| 6 | a | {1,2,3,4,6,7} 
| 7 | b | {1,2,3,5,6,7} 

#### b) (a\* | b\*)\*

![Image text](https://github.com/YULuoOo/compiler/blob/master/homework/IMG_0788.JPG)

| 次数 | 输入 | 状态 
| - | :-: | :-: 
| 0 | start| {0,1,2,3,4,5,8,9,10,11}
| 1 | a | {1,2,3,4,5,6,8,9,10,11}
| 2 | b | {1,2,3,4,5,7,8,9,10,11}
| 3 | a | {1,2,3,4,5,6,8,9,10,11}
| 4 | b | {1,2,3,4,5,7,8,9,10,11}
| 5 | b | {1,2,3,4,5,7,8,9,10,11}
| 6 | a | {1,2,3,4,5,6,8,9,10,11} 
| 7 | b | {1,2,3,4,5,7,8,9,10,11}

#### c) ((e | a)b\*)\* 

![Image text](https://github.com/YULuoOo/compiler/blob/master/homework/IMG_0789.JPG)

| 次数 | 输入 | 状态 
| - | :-: | :-: 
| 0 | start| {0,1,2,3,4,6,7,9,10}
| 1 | a | {1,2,3,4,5,6,7,9,10}
| 2 | b | {1,2,3,4,6,7,8,9,10}
| 3 | a | {1,2,3,4,5,6,7,9,10} 
| 4 | b | {1,2,3,4,6,7,8,9,10}
| 5 | b | {1,2,3,4,6,7,8,9,10} 
| 6 | a | {1,2,3,4,5,6,7,9,10}
| 7 | b | {1,2,3,4,6,7,8,9,10}


#### d) (a | b)\*abb(a | b)\*

![Image text](https://github.com/YULuoOo/compiler/blob/master/homework/IMG_0790.JPG)

| 次数 | 输入 | 状态 
| - | :-: | :-: 
| 0 | start| {0,1,2,3,7} 
| 1 | a | {1,2,3,4,6,7,8}
| 2 | b | {1,2,4,5,6,7,9}
| 3 | a | {1,2,3,4,6,7,8}
| 4 | b | {1,2,4,5,6,7,9}
| 5 | b | {1,2,3,5,6,7,10,11,12,13,17}
| 6 | a | {1,2,3,4,6,7,8,11,12,13,14,16,17} 
| 7 | b | {1,2,3,5,6,7,9,11,12,13,15,16,17} 

## 二、利用子集构造法将第一题得到的 NFA 转换为 DFA，同样写出分析符号串 ababbab 过程中的状态转换。8分

#### a) (a | b)* 
    计算步骤为
    e-closure({0}) = {0,1,2,3,7}=A
    e-closure(move(A,a)) = {1,2,3,4,6,7}=B
    e-closure(move(A,b)) = {1,2,3,5,6,7}=C
    e-closure(move(B,a)) = {1,2,3,4,6,7}=B
    e-closure(move(B,b)) = {1,2,3,5,6,7}=C
    e-closure(move(C,a)) = {1,2,3,4,6,7}=B
    e-closure(move(C,b)) = {1,2,3,5,6,7}=C
  
| NFA | DFA | a | b 
| - | :-: | :-: | :-: 
| {0,1,2,3,7} | A | B | C
| {1,2,3,4,6,7} | B | B | C
| {1,2,3,5,6,7} | C | B | C

前三题的DFA相同 故只放一次图
![Image text](https://github.com/YULuoOo/compiler/blob/master/homework/IMG_0791.JPG)

#### b) (a\* | b\*)\*
    计算步骤为
    e-closure({0}) = {0,1,2,3,4,5,8,9,10,11}=A
    e-closure(move(A,a)) = {1,2,3,4,5,6,8,9,10,11}=B
    e-closure(move(A,b)) = {1,2,3,4,5,7,8,9,10,11}=C
    e-closure(move(B,a)) = {1,2,3,4,5,6,8,9,10,11}=B
    e-closure(move(B,b)) = {1,2,3,4,5,7,8,9,10,11}=C
    e-closure(move(C,a)) = {1,2,3,4,5,6,8,9,10,11}=B
    e-closure(move(C,b)) = {1,2,3,4,5,7,8,9,10,11}=C

| NFA | DFA | a | b 
| - | :-: | :-: | :-: 
| {0,1,2,3,4,5,8,9,10,11} | A | B | C
| {1,2,3,4,5,6,8,9,10,11} | B | B | C
| {1,2,3,4,5,7,8,9,10,11} | C | B | C

#### c) ((e | a)b\*)\* 
    计算步骤为
    e-closure({0}) = {0,1,2,3,4,6,7,9,10}=A
    e-closure(move(A,a)) = {1,2,3,4,5,6,7,9,10}=B
    e-closure(move(A,b)) = {1,2,3,4,6,7,8,9,10}=C
    e-closure(move(B,a)) = {1,2,3,4,5,6,7,9,10}=B
    e-closure(move(B,b)) = {1,2,3,4,6,7,8,9,10}=C
    e-closure(move(C,a)) = {1,2,3,4,5,6,7,9,10}=B
    e-closure(move(C,b)) = {1,2,3,4,6,7,8,9,10}=C

| NFA | DFA | a | b 
| - | :-: | :-: | :-: 
| {0,1,2,3,4,6,7,9,10} | A | B | C
| {1,2,3,4,5,6,7,9,10} | B | B | C
| {1,2,3,4,6,7,8,9,10} | C | B | C

#### d) (a | b)\*abb(a | b)\*
    计算步骤为太多 暂略

| NFA | DFA | a | b 
| - | :-: | :-: | :-: 
| {0,1,2,3,7} | A | B | C
| {1,2,3,4,6,7,8} | B | B | D
| {1,2,3,5,6,7} | C | B | C
| {1,2,3,5,6,7,9} | D | B | E
| {{1,2,3,5,6,7,10,11,12,13,17} | E | F | G
| {1,2,3,4,6,7,8,11,12,13,14,16,17} | F | F | H
| {1,2,3,5,6,7,11,12,13,14,16,17} | G | F | G
| {1,2,3,5,6,7,9,11,12,13,15,16,17} | H | F | I
| {1,2,3,5,6,7,10,11,12,13,15,16,17} | I | F | G

![Image text](https://github.com/YULuoOo/compiler/blob/master/homework/IMG_0792.JPG)
